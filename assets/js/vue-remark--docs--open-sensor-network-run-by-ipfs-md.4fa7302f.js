(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{248:function(e,t,o){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},266:function(e,t){e.exports={type:"image",mimeType:"image/jpeg",src:"/assets/static/raspberry_uart_connection.41d3bc4.fd36875ca96f4e42dcd376449c367a1f.jpg",size:{width:1772,height:1133},sizes:"(max-width: 1772px) 100vw, 1772px",srcset:["/assets/static/raspberry_uart_connection.82a2fbd.fd36875ca96f4e42dcd376449c367a1f.jpg 480w","/assets/static/raspberry_uart_connection.cbab2cf.fd36875ca96f4e42dcd376449c367a1f.jpg 1024w","/assets/static/raspberry_uart_connection.41d3bc4.fd36875ca96f4e42dcd376449c367a1f.jpg 1772w"],dataUri:"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1772 1133' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-607b87a1ceeca6d37bae3210b359783f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-607b87a1ceeca6d37bae3210b359783f)' width='1772' height='1133' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAApAEADASIAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAcFBgMECAEC/8QANhAAAQMDAwIEAwMNAAAAAAAAAQIDBAAFEQYSIQcxEyJBYRRxkQgyURUWJDM0QlJVgZShsdH/xAAaAQABBQEAAAAAAAAAAAAAAAACAAEDBAUG/8QAJBEAAgEDAwQDAQAAAAAAAAAAAQIAAxEhBBIxMlFhgRMUIqH/2gAMAwEAAhEDEQA/AOqa0lXa3pUUqnRQoHBBeTkH61D611lbtIxQ/cg4sFO8IbUjeoBQHlCiNxyocClXberGmo8ZPxVvuysjcnw20gDJOf3h6%2btRtVVTa8BqgGI0IvUDSsq5PwGb3EMpj9YlRKQnnH3iAO/vUl%2bc9h/ndr/u2/8AtIq2646cW26zrlGsl7EmcnbIK17kuJznBSXMYyK3ntU9K27YxPVo2KpD7i2w2mLHLgKcElSd2QDng0JrouSYmrU1W7G0bN41pZLfAW%2bzPiTXQQEMR5CFLWT8j2/E1XGupq3c7LKTjk/pQH%2b01E2WzaR1UJMWy6aTYLiy2l9qQqI0lRB/AoUTjnBHHetodMZoBBuEJQP8ccqx8snj%2blbGi%2bk1Imuf1fHPHqMWLZTiTNl6houFyaivW5TCXElQcS8F9hkcYHf51a7Xd4tz/ZfEI27vOgp4zj1qmWTp/Ih3ZuXMnsuNoSpO1popJyMD2q42mzs2xRLTrzhKduXVbj3z39ar6wURUHwdNvPPuEt7Zig%2b0tb25MW3y3FLCoyFIaCcYK1rT9722oV29cVzRcr1MtuGIrgS28ApYI7kHj5V0p9pm4CMxbYamysSm1qSQcbFoWkgkY5GFKGOOSD6UgINpfu0jwYkMynkp3YCNxSnPf2HNc5qGRdTci/cTC1T011dyu7uJqRZj8yGy4%2b4pRUN2MnGawIkvG5%2bAGT4eMhzB74%2blW616YkF2dAmQ3I8wRC/FCjsTlLiEnj1BCiPbvXls0tJk6wTp%2bW6mNIDhbcWnzhJAzxzzVY0zuvt6uPEpmmwYnZ1YHi5xHr0UTeBfpv5YXHUn4NvwvABwOU9/TOMf5px0rOlOnpdivkpc67OXFT0YIRvbCNgSoe5J9PpTTrepAhbH%2bzpqIIQA395hRRRUklkPf8ATtvv3hC4tlxKCPLwQoBQVggg8ZSKqzfSXTkebJlwhLjPSM7tjo2gFQVhKcYAyBTBooDTUncRmAaasQxGRKGjpjZ0LW8H5pmFksofLgygFQWfLjByQM59OKHumNplMs/Gyp65DTqnw8w4GFb1AAkbAMcADFXyikaatyIjTVuRK7pfSMHTj770SRcZDjqQkmXKU9tAOfKD2qxUUUQAUWEJVCiwny4VBBKEhSvQE4zWNlx5SyHWQhOO4WDWainjz//Z' /%3e%3c/svg%3e"}},267:function(e,t){e.exports={type:"image",mimeType:"image/jpeg",src:"/assets/static/connect_SEN0233.96e8838.a54950b4f2f56cfde82b5053772cc1b9.jpg",size:{width:1935,height:1280},sizes:"(max-width: 1935px) 100vw, 1935px",srcset:["/assets/static/connect_SEN0233.82a2fbd.a54950b4f2f56cfde82b5053772cc1b9.jpg 480w","/assets/static/connect_SEN0233.cbab2cf.a54950b4f2f56cfde82b5053772cc1b9.jpg 1024w","/assets/static/connect_SEN0233.96e8838.a54950b4f2f56cfde82b5053772cc1b9.jpg 1935w"],dataUri:"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1935 1280' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-b5ec4cb1be74fce97f3e1429b6151e0f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-b5ec4cb1be74fce97f3e1429b6151e0f)' width='1935' height='1280' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAqAEADASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAABgUHAgMECAD/xAA4EAABAwIEAwUFBQkAAAAAAAABAgMEBREABhIhMUFxBxMiUWEUQoGhsQgVIzKRJDZSU2J0srPh/8QAGQEAAgMBAAAAAAAAAAAAAAAAAgQAAQMF/8QAIxEAAgICAQMFAQAAAAAAAAAAAQIAEQMSQQQhMQUiYYGR8P/aAAwDAQACEQMRAD8A7k1GoRikyaStw/z4Kgv9UGyh88Dc/feFaksuQDJQ5slXtEN0kAbkA2tvvhFm1ioSfZjTJc6KpJUVFD43O1rj/mDryJDYQ5ValUFIQofhqk7KuDsoWB4XsOfTGW1ixNQmrUx7TOdFZrSYD02A3GjR1WlWbLalDbc/w2tsL3wUzDSsuKkSFRpCzp8WlCQu46g8Rh5Q6PEq7cr2qWZKlthY/aNYZ3IAAtta3lzxwZxyxDj1CEtEia4sNNhx1bqfCAeYsORNumJ9w2oAUL/viO5k9pmoyEa0rOs%2bEn1OPlZojR0rCkthsAaiU3vtvirqU4ajmXMsGbPegTG1vrjOXuHTqOgWtsBxO%2b/LhgPmJdXqFRNPcqzj0dLAeKXnwhBt%2bYDkfQYXXA11HT1ShbrxLsokCg5jlsOVinIXPW3oSl7Uk%2bG5AKbj3fpiZOVqChTiUUani21u4Tgv9n2lMxYlee8DrrchLKHCPElIBuPS%2b18SHaZOlt0ScmE8WNK0NuOA2NlnfflsPnhhVK%2b25z8rjI2wFTnj1yC1Uw66nvWgmwSVp2%2bOCedajGmS6kI6C224uKUnUCEhKFA/XG9nONCS4lapEAJB3IjAn/DGx3OtHdSUh%2bmeIbaIOk362Nv0xFscQWszHsumNMVWY0FEpdYAubCxBJw2rkRx5yPMbHeqCAhxs7603%2bu%2bOXKkqLUopNP0iTaxdS0O7HUaQT0wgIWptlBQUlOlKiRbUb8QOQxRJLXCBGmtd5X9HzPHy52tznJ8dl6DKdW0dSQe7WFHSr52PX0xIds2W6bVJ8etQYkWGhSmo7qGkFCVrWo6V7bX4388VhWITrmY5UwvE65z%2btKx%2bWzyht5i2Lhp8/v8uz2JSg8lqO3JbQpIVZTZ1G1/MAj44JBRAkyNsSRJbslgM0qg15tawXGam406oG%2btSQBfnx3wV7Qy85HnKZ0PMSVGOYxVpXrtcKHnpO59L4SwcyRRTX6lIWlqC0kyHFBNiokDe3M7C3qrBKhwXc4Tp1WqrfdMykqTGicggja/mOB/qIudgBiwdu8Bl1NSnkUKQU3DardMbG6M8DbQb9MehaNFjmjIJYaJ0cSgY4J8SOHEWjsjxJ9weYxQaXUS9muXvYMrRLMKQ4tsKXcbk%2buJOdH0uAAWOoYsOO2hNFjBKEjwDgPTA%2brgd9w94fXGcKeY821S9eqDWgBpqW6G7Cx2cPH44U5MzBFlvtoQoawgoW0riR05jALNP7yVT%2b7f/wBisRFPUpE9lSFFKg4LEGxGDEJq4EdvocfqMDLDylJjyJqHV2OymUpuBfFnMPoiVR4oAGyQ0gbAbWHwGK5zISnMGV3UkhzvUDWONtueG882nEjY90dx0OGuhxjPmRW5iHqGU9Pgd048ftT/2Q==' /%3e%3c/svg%3e"}},310:function(e,t,o){"use strict";o.r(t);var r=o(34),n=o(248),a=o(0);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.a.config.optionMergeStrategies;var i={VueRemarkRoot:n.a},c=function(e){var t=e.options.components=e.options.components||{},o=e.options.computed=e.options.computed||{};Object.keys(i).forEach((function(e){"object"===s(i[e])&&"function"==typeof i[e].render?t[e]=i[e]:o[e]=function(){return i[e]}}))},p=a.a.config.optionMergeStrategies,h="__vueRemarkFrontMatter",A={excerpt:null,title:"Open Sensor Network Run by IPFS"};var l=function(e){e.options[h]&&(e.options[h]=A),a.a.util.defineReactive(e.options,h,A),e.options.computed=p.computed({$frontmatter:function(){return e.options[h]}},e.options.computed)},d=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VueRemarkRoot",[r("h1",{attrs:{id:"open-sensor-network-run-by-ipfs"}},[r("a",{attrs:{href:"#open-sensor-network-run-by-ipfs","aria-hidden":"true"}},[e._v("#")]),e._v("Open Sensor Network Run by IPFS")]),r("p",[e._v("Robonomics Network allows you to communicate with any sensor you wish and get data from the sensor all around the world. This data is packed in "),r("a",{attrs:{href:"http://wiki.ros.org/rosbag",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("rosbag")]),e._v(" format, so you can easily share it using "),r("a",{attrs:{href:"https://ipfs.io",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("IPFS protocol")]),e._v(".")]),r("p",[e._v("At this page you'll find step-by-step instruction to connect "),r("a",{attrs:{href:"https://wiki.dfrobot.com/Air_Quality_Monitor__PM_2.5,_Formaldehyde,_Temperature_&#x26;_Humidity_Sensor__SKU__SEN0233",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("SEN0233")]),e._v(" sensor\nto "),r("a",{attrs:{href:"https://www.raspberrypi.org/products/raspberry-pi-4-model-b/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Raspberry Pi 4")]),e._v(" and make it publish data on demand.")]),r("p",[r("strong",[e._v("After reading this article you should get the main idea and be able to connect any desired sensor. All of the following steps are done on Linux.")])]),r("h2",{attrs:{id:"requirements"}},[r("a",{attrs:{href:"#requirements","aria-hidden":"true"}},[e._v("#")]),e._v("Requirements")]),r("ul",[r("li",[e._v("SEN0233")]),r("li",[e._v("PM2.5 Sensor Adapter")]),r("li",[e._v("Raspberry Pi 4")]),r("li",[e._v("SD Card >=16Gb")])]),r("h2",{attrs:{id:"1-prepare-raspberry-pi-4"}},[r("a",{attrs:{href:"#1-prepare-raspberry-pi-4","aria-hidden":"true"}},[e._v("#")]),e._v("1. Prepare Raspberry Pi 4")]),r("h3",{attrs:{id:"11-get-the-image"}},[r("a",{attrs:{href:"#11-get-the-image","aria-hidden":"true"}},[e._v("#")]),e._v("1.1 Get the image")]),r("p",[e._v("The latest AIRA image can be found "),r("a",{attrs:{href:"https://aira.life/channels/aira-unstable/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("here")])]),r("pre",[r("code",{pre:!0},[e._v("wget https://aira.life/channels/aira-unstable/aira-image-rpi4-20.03pre-git-aarch64-linux.img\n")])]),r("h3",{attrs:{id:"12-write-the-image-on-to-a-sd-card"}},[r("a",{attrs:{href:"#12-write-the-image-on-to-a-sd-card","aria-hidden":"true"}},[e._v("#")]),e._v("1.2 Write the image on to a SD card")]),r("pre",[r("code",{pre:!0},[e._v("sudo dd if=aira-image-rpi4-20.03pre-git-aarch64-linux.img of=/dev/sda bs=4M status=progress\nsync\n")])]),r("h3",{attrs:{id:"13-boot-with-the-sd-card"}},[r("a",{attrs:{href:"#13-boot-with-the-sd-card","aria-hidden":"true"}},[e._v("#")]),e._v("1.3 Boot with the SD card")]),r("p",[e._v("Plug in the SD card and connect a power supply to the board. Wait a couple of minutes.")]),r("p",[e._v("By default OS has "),r("code",{pre:!0},[e._v("root")]),e._v(" user with empty password. There are a few ways to log in.")]),r("p",[e._v("First - using UART-USB cable. Connect the cable as shown below:")]),r("ul",[r("li",[e._v("Black to 6th pin")]),r("li",[e._v("White to 8th pin (TXD)")]),r("li",[e._v("Green to 10th pin (RXD)")])]),r("p",[e._v("Check the official "),r("a",{attrs:{href:"https://www.raspberrypi.org/documentation/usage/gpio/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("documentation")]),e._v(" out.")]),r("p",[r("g-image",{attrs:{src:o(266),alt:"Rasbperry Pi UART Connection",title:"Rasbperry Pi UART Connection"}})],1),r("p",[e._v("The connection is the same for Raspberry Pi 3 and 4.")]),r("p",[e._v("Then on your laptop run:")]),r("pre",[r("code",{pre:!0},[e._v("screen /dev/ttyUSB 115200\n")])]),r("p",[e._v("And you should see something similar to:")]),r("pre",[r("code",{pre:!0},[e._v('<<< Welcome to NixOS 20.03pre-git (aarch64) - ttyS0 >>>  \n  \n  \naira-rpi4 login: root (automatic login)  \n\nStarting...  \n\n    _    ___ ____      _      \n   / \\  |_ _|  _ \\    / \\   \n  / _ \\  | || |_) |  / _ \\  \n / ___ \\ | ||  _ <  / ___ \\ \n/_/   \\_\\___|_| \\_\\/_/   \\_\\\n                        \n\nMy Ethereum address is "38411681740ca6214b448d49549bb1dfd0a0cffa"  \n\nLook me at https://status.robonomics.network by "Qmdiiux3uQS8JyuPNa7Vj3iNe7UZBrpMPB2dEqUeo4YRGH"\n')])]),r("p",[r("strong",[e._v("Save somewhere your ethereum address generated by the OS. You'll need it later.")])]),r("p",[e._v("By default "),r("code",{pre:!0},[e._v("sshd")]),e._v(" service is up and running. All you need to do is to add your SSH key:")]),r("pre",[r("code",{pre:!0},[e._v("mkdir .ssh/\ncurl -sSL https://github.com/<USERNAME>.keys >> .ssh/authorized_keys\n")])]),r("p",[e._v("It's recommended to add your SSH key to Github account "),r("a",{attrs:{href:"https://help.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("help")])]),r("p",[e._v("If you don't have a key attached to your github account then simply put the content of your "),r("code",{pre:!0},[e._v("~/.ssh/id_rsa.pub")]),e._v(" file to "),r("code",{pre:!0},[e._v("/root/.ssh/authorized_keys")]),e._v(" file on the SD card.")]),r("p",[e._v("Another way to put the key is to unplug the SD card, plug it in a laptop and do above steps manually.")]),r("p",[e._v("After that you should be able to connect to the board via SSH:")]),r("pre",[r("code",{pre:!0},[e._v("ssh root@<RASPBERRY_PI_ADDRESS>\n")])]),r("h3",{attrs:{id:"14-remove-blocking-parameters"}},[r("a",{attrs:{href:"#14-remove-blocking-parameters","aria-hidden":"true"}},[e._v("#")]),e._v("1.4. Remove blocking parameters")]),r("p",[e._v("You'll attach the sensor to GPIO pins which are currently are configured for UART connection. ")]),r("p",[e._v("Open "),r("code",{pre:!0},[e._v("/boot/cmdline.txt")]),e._v(" and remove everything related to "),r("code",{pre:!0},[e._v("console")]),e._v(". In the end it must look like:")]),r("pre",[r("code",{pre:!0},[e._v("cma=256M loglevel=7 init=/nix/store/nlh5fcbb1cj36kn0m2pfvqs7w6dd127w-nixos-system-aira-rpi4-20.03pre197163.0c9d9518676/init\n")])]),r("p",[e._v("Reboot")]),r("pre",[r("code",{pre:!0},[e._v("reboot\n")])]),r("h2",{attrs:{id:"2-connect-sen0233"}},[r("a",{attrs:{href:"#2-connect-sen0233","aria-hidden":"true"}},[e._v("#")]),e._v("2. Connect SEN0233")]),r("p",[e._v("Connect the sensor as shown below:")]),r("p",[r("g-image",{attrs:{src:o(267),alt:"Connect SEN0233",title:"Connect SEN0233"}})],1),r("h2",{attrs:{id:"3-run-the-agent"}},[r("a",{attrs:{href:"#3-run-the-agent","aria-hidden":"true"}},[e._v("#")]),e._v("3. Run the Agent")]),r("p",[e._v("The agent must be run under "),r("code",{pre:!0},[e._v("liability")]),e._v(" user")]),r("pre",[r("code",{pre:!0},[e._v("su liability\ncd\n")])]),r("p",[e._v("Now clone the repository and build the agent:")]),r("pre",[r("code",{pre:!0},[e._v("git clone https://github.com/Vourhey/sen0233_sensor_agent/\ncd sen0233_sensor_agent\nnix build -f release.nix\n")])]),r("p",[e._v("Run the agent:")]),r("pre",[r("code",{pre:!0},[e._v("source result/setup.bash\nroslaunch sensors_pack_agent agent.launch\n")])]),r("p",[r("strong",[e._v("Don't hesitate to check "),r("a",{attrs:{href:"https://github.com/Vourhey/sen0233_sensor_agent/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("the repository")]),e._v(" out. You'll see how easily the sensor can be replaced with any other.")])]),r("h2",{attrs:{id:"4-test"}},[r("a",{attrs:{href:"#4-test","aria-hidden":"true"}},[e._v("#")]),e._v("4. Test")]),r("p",[e._v("To test everything works as expected go to the Dapp:")]),r("pre",[r("code",{pre:!0},[e._v("https://dapp.robonomics.network/#/sensors/airalab/QmWjvXGfVUDBNR15BBH5ERGP3SzEKbeLZWx7Fcp4kwwaw9/0x<YOUR_ETHEREUM_ADDRESS>/\n")])]),r("p",[e._v("where "),r("code",{pre:!0},[e._v("<YOUR_ETHEREUM_ADDRESS>")]),e._v(" is the address generated by OS on step 1.3.")]),r("p",[e._v("To find out the address again you can run:")]),r("pre",[r("code",{pre:!0},[e._v("rosservice call /eth/accounts\n")])])])}),[],!1,null,null,null);"function"==typeof c&&c(d),"function"==typeof l&&l(d);t.default=d.exports}}]);